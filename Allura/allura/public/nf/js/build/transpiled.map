{"version":3,"sources":["context-menu.es6.js","navbar.es6.js","tooltip.es6.js"],"sourcesContent":["/*\n Licensed to the Apache Software Foundation (ASF) under one\n or more contributor license agreements.  See the NOTICE file\n distributed with this work for additional information\n regarding copyright ownership.  The ASF licenses this file\n to you under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance\n with the License.  You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing,\n software distributed under the License is distributed on an\n \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n KIND, either express or implied.  See the License for the\n specific language governing permissions and limitations\n under the License.\n */\n/* eslint camelcase: 0 */\n'use strict';\n\nclass ContextMenu extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillMount() {\n        let _this = this;\n        var mount_point;\n        $('body').on('click.contextMenu', function(evt) {\n            /* the :not filter should've worked as a 2nd param to .on() instead of this,\n             but clicks in the page gutter were being delayed for some reason */\n            if ($(evt.target).is(':not(.contextMenu)')) {\n                /* if clicking directly onto another gear, set it directly.\n                 this is necessary since sometimes our jquery events seem to interfere with the react event\n                 that is supposed to handle this kind of thing */\n                if ($(evt.target).is('.config-tool')) {\n                    mount_point = $(evt.target).next().data('mount-point');\n                } else {\n                    // no current option menu\n                    mount_point = \"\";\n                }\n                _this.props.onOptionClick(mount_point);\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        $(\"body\").off('click.contextMenu');  // de-register our specific click handler\n    }\n\n    render() {\n        let _this = this;\n        return (\n            <div className=\"contextMenu\">\n                <ToolTip targetSelector='#top_nav_admin .contextMenu a'/>\n                <ul>{\n                    this.props.items.map(function(o, i) {\n                        return (<li key={i}>\n                            <a href={o.href}\n                               className={_this.props.classes.concat([o.className]).join(' ')}\n                               title={o.tooltip}>{o.text}</a>\n                        </li>);\n                    })}\n                </ul>\n            </div>\n        );\n    }\n}\n\nContextMenu.propTypes = {\n    classes: React.PropTypes.array,\n    items: React.PropTypes.arrayOf(React.PropTypes.object).isRequired,\n    onOptionClick: React.PropTypes.func.isRequired\n};\n\nContextMenu.defaultProps = {\n    classes: []\n};\n","/*\n       Licensed to the Apache Software Foundation (ASF) under one\n       or more contributor license agreements.  See the NOTICE file\n       distributed with this work for additional information\n       regarding copyright ownership.  The ASF licenses this file\n       to you under the Apache License, Version 2.0 (the\n       \"License\"); you may not use this file except in compliance\n       with the License.  You may obtain a copy of the License at\n\n         http://www.apache.org/licenses/LICENSE-2.0\n\n       Unless required by applicable law or agreed to in writing,\n       software distributed under the License is distributed on an\n       \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n       KIND, either express or implied.  See the License for the\n       specific language governing permissions and limitations\n       under the License.\n*/\n/* eslint camelcase: 0 */\n/* globals ContextMenu ToolTip */\n'use strict';\n\n/**\n* Gets the current project url.\n* @param {boolean} rest - Return a \"rest\" version of the url.\n* @return {string} - Project Url\n*/\nvar _getProjectUrl = function(rest = true) {\n    var nbhd;\n    var proj;\n    var nbhd_proj;\n    var identClasses = document.getElementById('page-body').className.split(' ');\n    var basePath = rest ? '/rest/' : '/';\n    for (let cls of identClasses) {\n        if (cls.indexOf('project-') === 0) {\n            proj = cls.slice('project-'.length);\n        }\n    }\n    nbhd = window.location.pathname.split('/')[1];\n    if (proj === '--init--') {\n        nbhd_proj = nbhd;\n    } else {\n        nbhd_proj = `${nbhd}/${proj}`;\n    }\n    return basePath + nbhd_proj;\n};\n\nconst ToolsPropType = React.PropTypes.shape({\n    mount_point: React.PropTypes.string,\n    name: React.PropTypes.string.isRequired,\n    url: React.PropTypes.string.isRequired,\n    is_anchored: React.PropTypes.bool.isRequired,\n    tool_name: React.PropTypes.string.isRequired,\n    icon: React.PropTypes.string,\n    children: React.PropTypes.array,\n    admin_options: React.PropTypes.array\n});\n\n/**\n * A single NavBar item.\n\n * @constructor\n */\nvar NavBarItem = React.createClass({\n    propTypes: {\n        name: React.PropTypes.string.isRequired,\n        url: React.PropTypes.string.isRequired,\n        currentOptionMenu: React.PropTypes.object,\n        isGrouper: React.PropTypes.bool,\n        mount_point: React.PropTypes.string,\n        onOptionClick: React.PropTypes.func.isRequired,\n        options: React.PropTypes.array,\n        handleType: React.PropTypes.string,\n        is_anchored: React.PropTypes.bool\n    },\n\n    render: function() {\n        var divClasses = \"tb-item tb-item-edit\";\n        var spanClasses = this.props.handleType + \" ordinal-item\";\n\n        if (this.props.is_anchored) {\n            divClasses += \" anchored\";\n        }\n        if (this.props.isGrouper) {\n            spanClasses += \" toolbar-grouper\";\n        }\n\n        return (\n            <div className={divClasses}>\n                <ToolTip targetSelector=\".anchored .draggable-handle\"\n                         position=\"top\"\n                         theme=\"tooltipster-default\"\n                         delay={250}/>\n                <ToolTip targetSelector=\".anchored .draggable-handle-sub\"\n                         position=\"right\"\n                         theme=\"tooltipster-default\"\n                         delay={250}/>\n                <a>\n                    {!_.isEmpty(this.props.options) &&\n                    <i className='config-tool fa fa-cog' onClick={this.handleOptionClick}> </i>}\n                    <span\n                        className={spanClasses}\n                        data-mount-point={this.props.mount_point}\n                        title={this.props.is_anchored ? 'This item cannot be moved.' : ''}>\n                        {this.props.name}\n                    </span>\n                </a>\n                {this.props.currentOptionMenu.tool &&\n                this.props.currentOptionMenu.tool === this.props.mount_point &&\n                <ContextMenu {...this.props} items={this.props.options} onOptionClick={this.props.onOptionClick}/>}\n            </div>\n        );\n    },\n\n    handleOptionClick: function(event) {\n        this.props.onOptionClick(this.props.mount_point);\n    }\n});\n\n/**\n * An input component that updates the NavBar's grouping threshold.\n\n * @constructor\n */\nvar GroupingThreshold = React.createClass({\n    propTypes: {\n        initialValue: React.PropTypes.number.isRequired,\n        isHidden: React.PropTypes.bool,\n        onUpdateThreshold: React.PropTypes.func\n    },\n    getInitialState: function() {\n        return {\n            value: this.props.initialValue\n        };\n    },\n\n    handleChange: function(event) {\n        this.setState({\n            value: event.target.value\n        });\n        this.props.onUpdateThreshold(event);\n    },\n\n    render: function() {\n        return (\n            <div>\n                {Boolean(this.props.isHidden) &&\n                <div id='threshold-config'>\n            <span>\n              <label htmlFor='threshold-input'>Grouping Threshold</label>\n                <ToolTip targetSelector=\"#threshold-input\" position=\"top\" contentAsHTML/>\n                <input type='number' name='threshold-input' id=\"threshold-input\"\n                       title='When you have multiple tools of the same type,\n                             <u>this number</u> determines if they will fit in the navigation\n                             bar or be grouped into a dropdown.'\n                       value={this.state.value}\n                       onChange={this.handleChange}\n                       min='1' max='50'\n                />\n              </span>\n                </div>}\n            </div>\n        );\n    }\n});\n\n/**\n * The NavBar when in \"Normal\" mode.\n\n * @constructor\n */\nvar NormalNavItem = React.createClass({\n    propTypes: {\n        name: React.PropTypes.string.isRequired,\n        url: React.PropTypes.string.isRequired,\n        children: React.PropTypes.object,\n        classes: React.PropTypes.string\n    },\n    render: function() {\n        return (\n            <li key={`tb-norm-${_.uniqueId()}`}>\n                <a href={this.props.url} className={this.props.classes}>\n                    {this.props.name}\n                </a>\n                {this.props.children}\n            </li>\n        );\n    }\n});\n\n/**\n * Toggle Button\n\n * @constructor\n */\nvar ToggleAddNewTool = React.createClass({\n    propTypes: {\n        installableTools: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                text: React.PropTypes.string.isRequired,\n                href: React.PropTypes.string,\n                tooltip: React.PropTypes.string\n            })\n        ).isRequired\n    },\n    getInitialState: function() {\n        return {\n            visible: false\n        };\n    },\n    handleToggle: function() {\n        this.setState({\n            visible: !this.state.visible\n        });\n    },\n    render: function() {\n        return (\n            <div>\n                <a onClick={this.handleToggle} className=\"add-tool-toggle\">\n                    Add New...\n                </a>\n                {this.state.visible &&\n                    <ContextMenu\n                        {...this.props}\n                        classes={['admin_modal']}\n                        onOptionClick={this.handleToggle}\n                        items={this.props.installableTools}\n                    />\n                }\n            </div>\n        );\n    }\n});\n\n/**\n * The NavBar when in \"Normal\" mode.\n\n * @constructor\n */\nvar NormalNavBar = React.createClass({\n    propTypes: {\n        items: React.PropTypes.arrayOf(ToolsPropType).isRequired,\n        installableTools: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                text: React.PropTypes.string.isRequired,\n                href: React.PropTypes.string,\n                tooltip: React.PropTypes.string\n            })\n        ).isRequired\n    },\n\n    buildMenu: function(item, i) {\n        let classes = window.location.pathname.startsWith(item.url) ? 'active-nav-link' : '';\n\n        var subMenu;\n        if (item.children) {\n            subMenu = item.children.map(this.buildMenu);\n        }\n        return (\n            <NormalNavItem url={item.url} name={item.name} classes={classes} key={`normal-nav-${_.uniqueId()}`}>\n                <ul>\n                    {subMenu}\n                </ul>\n            </NormalNavItem>\n        );\n    },\n\n    render: function() {\n        var listItems = this.props.items.map(this.buildMenu);\n        return (\n            <ul\n                id=\"normal-nav-bar\"\n                className=\"dropdown\">\n                {listItems}\n                <li id=\"add-tool-container\">\n                    <ToggleAddNewTool installableTools={this.props.installableTools}/>\n                </li>\n            </ul>\n        );\n    }\n});\n\n/**\n * The NavBar when in \"Admin\" mode.\n * @constructor\n */\nvar AdminNav = React.createClass({\n    propTypes: {\n        tools: React.PropTypes.arrayOf(ToolsPropType),\n        currentOptionMenu: React.PropTypes.object,\n        installableTools: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                text: React.PropTypes.string.isRequired,\n                href: React.PropTypes.string,\n                tooltip: React.PropTypes.string\n            })\n        ),\n        onOptionClick: React.PropTypes.func.isRequired\n    },\n\n    buildMenu: function(items, isSubMenu = false) {\n        var _this = this;\n        var [tools, anchoredTools, endTools] = [[], [], []];\n        var subMenu;\n        var childOptionsOpen;\n        var _handle;\n        var toolList;\n        var isAnchored;\n        for (let item of items) {\n            if (item.children) {\n                subMenu = this.buildMenu(item.children, true);\n            } else {\n                subMenu = null;\n            }\n\n            _handle = isSubMenu ? \"draggable-handle-sub\" : 'draggable-handle';\n            if (item.mount_point === 'admin') {\n                // force admin to end, just like 'Project.sitemap()' does\n                toolList = endTools;\n                isAnchored = true;\n            } else if (item.is_anchored) {\n                toolList = anchoredTools;\n                isAnchored = true;\n            } else {\n                toolList = tools;\n                isAnchored = false;\n            }\n            let coreItem = (<NavBarItem\n                {..._this.props}\n                mount_point={item.mount_point}\n                name={item.name}\n                handleType={_handle}\n                isGrouper={item.children && item.children.length > 0}\n                url={item.url}\n                key={'tb-item-' + _.uniqueId()}\n                is_anchored={isAnchored}\n                options={item.admin_options}\n            />);\n            if (subMenu) {\n                childOptionsOpen = _.contains(_.pluck(item.children, 'mount_point'),\n                    this.props.currentOptionMenu.tool);\n\n                toolList.push(<NavBarItemWithSubMenu\n                    key={_.uniqueId()}\n                    tool={coreItem}\n                    subMenu={subMenu}\n                    childOptionsOpen={childOptionsOpen}\n                />);\n            } else {\n                toolList.push(coreItem);\n            }\n        }\n\n        return (\n            <div className='react-drag'>\n                {anchoredTools}\n                <ReactReorderable\n                    key={'reorder-' + _.uniqueId()}\n                    handle={\".\" + _handle}\n                    mode={isSubMenu ? 'list' : 'grid'}\n                    onDragStart={_this.props.onToolDragStart}\n                    onDrop={_this.props.onToolReorder}>\n                    {tools}\n                </ReactReorderable>\n                {endTools}\n                {!isSubMenu && <div id=\"add-tool-container\" className=\"unlocked-container\">\n                    <ToggleAddNewTool installableTools={this.props.installableTools}/>\n                </div>}\n            </div>\n        );\n    },\n\n    render: function() {\n        var tools = this.buildMenu(this.props.tools);\n        return <div>{tools}</div>;\n    }\n});\n\nvar NavBarItemWithSubMenu = React.createClass({\n    propTypes: {\n        subMenu: React.PropTypes.node,\n        childOptionsOpen: React.PropTypes.bool,\n        tool: React.PropTypes.node\n    },\n    render: function() {\n        return (\n            <div className={\"tb-item-container\" + (this.props.childOptionsOpen ? \" child-options-open\" : \"\")}>\n                {this.props.tool}\n                {this.props.subMenu &&\n                <AdminItemGroup key={_.uniqueId()}>\n                    {this.props.subMenu}\n                </AdminItemGroup>\n                    }\n            </div>\n        );\n    }\n});\n\n/**\n * The NavBar when in \"Admin\" mode.\n * @constructor\n */\nvar AdminItemGroup = React.createClass({\n    propTypes: {\n        children: React.PropTypes.object\n    },\n    render: function() {\n        return (\n            <div className=\"tb-item-grouper\">\n                {this.props.children}\n            </div>\n        );\n    }\n});\n\n/**\n * The button that toggles NavBar modes.\n\n * @constructor\n */\nvar ToggleAdminButton = React.createClass({\n    propTypes: {\n        handleButtonPush: React.PropTypes.func,\n        visible: React.PropTypes.bool\n    },\n    render: function() {\n        var classes = this.props.visible ? 'fa fa-unlock' : 'fa fa-lock';\n        return (\n            <button id='toggle-admin-btn' onClick={this.props.handleButtonPush} className='admin-toolbar-right'>\n                <i className={classes}> </i>\n            </button>\n        );\n    }\n});\n\n/**\n * The main \"controller view\" of the NavBar.\n\n * @constructor\n * @param {object} initialData\n */\nvar Main = React.createClass({\n    propTypes: {\n        initialData: React.PropTypes.shape({\n            menu: React.PropTypes.arrayOf(ToolsPropType),\n            installableTools: React.PropTypes.array,\n            grouping_threshold: React.PropTypes.number.isRequired\n        }),\n        installableTools: React.PropTypes.array\n    },\n    getInitialState: function() {\n        return {\n            data: this.props.initialData,\n            visible: true,\n            currentOptionMenu: {\n                tool: null\n            }\n        };\n    },\n\n    /**\n     * When invoked, this updates the state with the latest data from the server.\n     */\n    getNavJson: function() {\n        $.get(`${_getProjectUrl(false)}/_nav.json?admin_options=1`, function(result) {\n            if (this.isMounted()) {\n                this.setState({\n                    data: result\n                });\n            }\n        }.bind(this));\n    },\n    /**\n     * Handles the locking and unlocking of the NavBar\n     */\n    handleToggleAdmin: function() {\n        this.setState({\n            visible: !this.state.visible\n        });\n    },\n\n    handleShowOptionMenu: function(mount_point) {\n        this.setState({\n            currentOptionMenu: {\n                tool: mount_point\n            }\n        });\n    },\n\n    /**\n     * Handles the changing of the NavBars grouping threshold.\n     * @param {object} event Fired when the threshold changes\n     * @return {boolean} False\n     */\n    onUpdateThreshold: function(event) {\n        var thres = event.target.value;\n        var url = `${_getProjectUrl()}/admin/configure_tool_grouping`;\n        var csrf = $.cookie('_session_id');\n        var data = {\n            _session_id: csrf,\n            grouping_threshold: thres\n        };\n        $.post(url, data, () => this.getNavJson());\n        return false;\n    },\n\n    /**\n     * Handles the sending and updating tool ordinals.\n     */\n    onToolReorder: function() {\n        $('.react-drag.dragging').removeClass('dragging');\n\n        let params = {_session_id: $.cookie('_session_id')};\n        let toolNodes = $(ReactDOM.findDOMNode(this)).find('span.ordinal-item').not(\".toolbar-grouper\");\n        for (let i = 0; i < toolNodes.length; i++) {\n            params[i] = toolNodes[i].dataset.mountPoint;\n        }\n\n        let _this = this;\n        let url = _getProjectUrl() + '/admin/mount_order';\n        $.ajax({\n            type: 'POST',\n            url: url,\n            data: params,\n            success: function() {\n                $('#messages').notify('Tool order updated',\n                    {\n                        status: 'confirm',\n                        interval: 500,\n                        timer: 2000\n                    });\n                _this.getNavJson();\n            },\n\n            error: function() {\n                $('#messages').notify('Error saving tool order.',\n                    {\n                        status: 'error'\n                    });\n            }\n        });\n    },\n\n    onToolDragStart: function(obj) {\n        // this is done with jQuery instead of rendering different HTML with react\n        // because that means you re-render the HTML while the drag is happening\n        // and the actual dragging doesn't work any more\n        var dragging_mount_point = obj.props.children.props.mount_point;\n        $(`[data-mount-point=\"${dragging_mount_point}\"]`).closest('.react-drag').addClass('dragging');\n    },\n\n    render: function() {\n        var _this = this;\n        var navBarSwitch = showAdmin => {\n            var navbar;\n            if (showAdmin) {\n                navbar = (<AdminNav\n                    tools={_this.state.data.menu}\n                    installableTools={_this.state.data.installable_tools}\n                    data={_this.state.data}\n                    onToolReorder={_this.onToolReorder}\n                    onToolDragStart={_this.onToolDragStart}\n                    editMode={_this.state.visible}\n                    currentOptionMenu={_this.state.currentOptionMenu}\n                    onOptionClick={_this.handleShowOptionMenu}\n                    currentToolOptions={this.state.currentToolOptions}\n                />);\n            } else {\n                navbar = (<div>\n                    <NormalNavBar\n                        items={_this.state.data.menu}\n                        installableTools={_this.state.data.installable_tools}\n                    />\n                </div>);\n            }\n            return navbar;\n        };\n        var navBar = navBarSwitch(this.state.visible);\n\n        var max_tool_count = _.chain(this.state.data.menu)\n                             .map(item => {\n                                 return item.children ? _.pluck(item.children, 'tool_name') : item.tool_name;\n                             })\n                             .flatten()\n                             .countBy()\n                             .values()\n                             .max()\n                             .value();\n        var show_grouping_threshold = max_tool_count > 1;\n\n        return (\n            <div>\n                {navBar}\n                <div id='bar-config'>\n                    {show_grouping_threshold &&\n                    <GroupingThreshold\n                        onUpdateThreshold={this.onUpdateThreshold}\n                        isHidden={this.state.visible}\n                        initialValue={parseInt(this.state.data.grouping_threshold, 10)}/>}\n                </div>\n                <ToggleAdminButton\n                    handleButtonPush={this.handleToggleAdmin}\n                    visible={this.state.visible}/>\n            </div>\n        );\n    }\n});\n","/*\n       Licensed to the Apache Software Foundation (ASF) under one\n       or more contributor license agreements.  See the NOTICE file\n       distributed with this work for additional information\n       regarding copyright ownership.  The ASF licenses this file\n       to you under the Apache License, Version 2.0 (the\n       \"License\"); you may not use this file except in compliance\n       with the License.  You may obtain a copy of the License at\n\n         http://www.apache.org/licenses/LICENSE-2.0\n\n       Unless required by applicable law or agreed to in writing,\n       software distributed under the License is distributed on an\n       \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n       KIND, either express or implied.  See the License for the\n       specific language governing permissions and limitations\n       under the License.\n*/\n\n/* exported ToolTip */\n/**\n * React Tooltip (tooltipster) Base class\n\n * @constructor\n */\nclass ToolTip extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        var _this = this;\n        $(this.props.targetSelector).tooltipster({\n            animation: _this.props.animation,\n            speed: _this.props.speed,\n            delay: _this.props.delay,\n            theme: _this.props.theme,\n            contentAsHTML: _this.props.contentAsHTML,\n            trigger: _this.props.trigger,\n            position: _this.props.position,\n            multiple: _this.props.multiple,\n            iconCloning: false,\n            maxWidth: _this.props.maxWidth\n        });\n    }\n\n    render() {\n        return null;\n    }\n}\n\nToolTip.propTypes = {\n    targetSelector: React.PropTypes.string.isRequired,\n    animation: React.PropTypes.string,\n    speed: React.PropTypes.number,\n    position: React.PropTypes.string,\n    contentAsHTML: React.PropTypes.bool,\n    delay: React.PropTypes.number,\n    theme: React.PropTypes.string,\n    maxWidth: React.PropTypes.number,\n    trigger: React.PropTypes.string,\n    multiple: React.PropTypes.bool,\n};\n\nToolTip.defaultProps = {\n    animation: 'fade',\n    speed: 150,\n    delay: 0,\n    maxWidth: 300,\n    multiple: true,\n    contentAsHTML: false,\n    position: 'left',\n    trigger: 'hover',\n    classes: [],\n    theme: 'tooltipster-light'\n};\n\n"],"names":[],"mappings":"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","file":"transpiled.js"}